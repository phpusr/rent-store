<div class="container">
  <mat-tab-group
    [selectedIndex]="dataStorage.currentYearIndex$ | async"
    (selectedIndexChange)="dataStorage.changeCurrentYearIndex($event)"
  >
    <mat-tab
      *ngFor="let year of dataStorage.years$ | async"
      [label]="year.toString()"
    >
    </mat-tab>
  </mat-tab-group>

  <div class="calc-table">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z1">
      <ng-container matColumnDef="month">
        <th mat-header-cell *matHeaderCellDef>Month</th>
        <td mat-cell *matCellDef="let element">{{ element.month }}</td>
      </ng-container>

      <ng-container matColumnDef="electricity">
        <th mat-header-cell *matHeaderCellDef class="vol">Electricity</th>
        <td mat-cell *matCellDef="let element" class="vol">{{ element.electricityVolume }}</td>
      </ng-container>

      <ng-container matColumnDef="electricityMonthly">
        <th mat-header-cell *matHeaderCellDef class="vol-monthly">Monthly</th>
        <td mat-cell *matCellDef="let element" class="vol-monthly">{{ element.electricityVolumeMonthly }}</td>
      </ng-container>

      <ng-container matColumnDef="hcs_cost">
        <th mat-header-cell *matHeaderCellDef class="cost">Cost</th>
        <td mat-cell *matCellDef="let element" class="cost">{{ element.hcs_cost }}</td>
      </ng-container>

      <ng-container matColumnDef="coldWaterVolume">
        <th mat-header-cell *matHeaderCellDef class="vol">Cold water</th>
        <td mat-cell *matCellDef="let element" class="vol">{{ element.coldWaterVolume }}</td>
      </ng-container>

      <ng-container matColumnDef="coldWaterVolumeMonthly">
        <th mat-header-cell *matHeaderCellDef class="vol-monthly">Monthly</th>
        <td mat-cell *matCellDef="let element" class="vol-monthly">{{ element.coldWaterVolumeMonthly }}</td>
      </ng-container>

      <ng-container matColumnDef="hotWaterVolume">
        <th mat-header-cell *matHeaderCellDef class="vol">Hot water</th>
        <td mat-cell *matCellDef="let element" class="vol">{{ element.hotWaterVolume }}</td>
      </ng-container>

      <ng-container matColumnDef="hotWaterVolumeMonthly">
        <th mat-header-cell *matHeaderCellDef class="vol-monthly">Monthly</th>
        <td mat-cell *matCellDef="let element" class="vol-monthly">{{ element.hotWaterVolumeMonthly }}</td>
      </ng-container>

      <ng-container matColumnDef="waterCost">
        <th mat-header-cell *matHeaderCellDef class="cost">Cost</th>
        <td mat-cell *matCellDef="let element" class="cost">{{ element.waterCost }}</td>
      </ng-container>

      <ng-container matColumnDef="heatingVolume">
        <th mat-header-cell *matHeaderCellDef class="vol">Heating</th>
        <td mat-cell *matCellDef="let element" class="vol">{{ element.heatingVolume }}</td>
      </ng-container>

      <ng-container matColumnDef="heatingConvertedVolume">
        <th mat-header-cell *matHeaderCellDef class="vol">Converted</th>
        <td mat-cell *matCellDef="let element" class="vol">{{ element.heatingConvertedVolume }}</td>
      </ng-container>

      <ng-container matColumnDef="heatingConvertedVolumeMonthly">
        <th mat-header-cell *matHeaderCellDef class="vol-monthly">Monthly</th>
        <td mat-cell *matCellDef="let element" class="vol-monthly">{{ element.heatingConvertedVolumeMonthly }}</td>
      </ng-container>

      <ng-container matColumnDef="garbageCost">
        <th mat-header-cell *matHeaderCellDef class="cost">Garbage</th>
        <td mat-cell *matCellDef="let element" class="cost">{{ element.garbageCost }}</td>
      </ng-container>

      <ng-container matColumnDef="overhaulCost">
        <th mat-header-cell *matHeaderCellDef class="cost">Overhaul</th>
        <td mat-cell *matCellDef="let element" class="cost">{{ element.overhaulCost }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>
